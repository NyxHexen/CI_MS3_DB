$(document).ready((function(){$(".sidenav").sidenav(),$("select").formSelect(),$(".tooltipped").tooltip(),$(".modal").modal(),$(".carousel").carousel(),$(".toast")&&$(".toast").each((function(){$(this).hasClass("message")?M.toast({html:$(this).text(),classes:"light-blue"}):M.toast({html:$(this).text(),classes:$(".toast").attr("class")})})),null!=$("section.error").html()&&$((function(){let t=30,e=setTimeout((function(){}),1e3*t),s=setInterval((function(){t-=1,$("section.error .timer").text(t),0==t&&(clearInterval(s),clearTimeout(e),location.href="/")}),1e3)})),null!=$("input[name='search_field']").html()&&($("input.select-dropdown.dropdown-trigger").attr("id","select-dropdown"),$("input.select-dropdown.dropdown-trigger").prepend("<label for='select-dropdown'>Filter By</label>"))})),$(window).innerWidth()+17<=690&&$(".post .card-action span").each((function(){let t=$(this).text();t=t.replace(/comments|comment/g,""),t=t.replace(/assists|assist/g,""),$(this).text(t)})),$(".collection-item").hover((function(){$(this).removeClass("deep-purple-text text-darken-3"),$(this).addClass("deep-purple darken-3 active")}),(function(){$(this).removeClass("deep-purple darken-3 active"),$(this).addClass("deep-purple-text text-darken-3")})),$(".switch label").on("mouseup",(function(){$("#code_switch").is(":checked")?$(".code-switch").each((function(){$(this).addClass("hide")})):$("#code_switch").is(":checked")||$(".code-switch").each((function(){$(this).removeClass("hide")}))})),$((function(){$(".vote-button").each((function(){$(this).on("click",(function(t){t.preventDefault();let e=$(this),s=$(this).children("span"),n=e.siblings(".vote-button").children("span"),o=parseInt(s.text()),a=parseInt(n.text());$.ajax({url:$(this).attr("href"),type:"POST",success:function(t){if(!t)return window.location.replace(window.location.protocol+"//"+window.location.host+"/signin");{let[i,c]=e.attr("href").match("/up")?[t.length_up,t.length_down]:[t.length_down,t.length_up];o<i&&a==c?(s.siblings("i").removeClass("text-lighten-2").addClass("accent-4"),n.siblings("i").hasClass("accent-4")&&n.siblings("i").removeClass("accent-4").addClass("text-lighten-2")):o>i&&a==c?s.siblings("i").removeClass("accent-4").addClass("text-lighten-2"):o<i&&a>c&&(s.siblings("i").removeClass("text-lighten-2").addClass("accent-4"),n.siblings("i").removeClass("accent-4").addClass("text-lighten-2")),s.text(i),n.text(c)}},error:function(t){M.toast({html:"Something went wrong, please refresh the page and try again!",classes:"red"})}})}))}))})),$('[data-target="search-field--container"]').on("mousedown",(function(){$("#search").toggleClass("scale-out")})),$("#search .autocomplete").on("focusin",(function(){$("#search").children(".row").css("background-color","rgba(255, 255, 255, 0.80)")})).on("focusout",(function(){$("#search").children(".row").css("background-color","rgba(255, 255, 255, 0.55)")})),$("#autocomplete-input").on("keyup",(function(){let t,e=$("#filter_select").find(":selected").val(),s=$("#autocomplete-input").val(),n=`/_search/${e}/${s}`,o={};$.ajax({url:n,type:"POST",success:function(s){if(0!=s){for(let n in s.items)"user"==e?(t=s.items[n].username,o[t]=""):"lang"==e&&(o[s.items[n].code_language]=null);$("input.autocomplete").autocomplete({data:o}),$("input.autocomplete").autocomplete("open")}},error:function(t){o["Something went wrong..."]="",$("input.autocomplete").autocomplete({data:o})}})})),$("a").each((function(){$(this).data().hasOwnProperty("uid")&&($(this).data().hasOwnProperty("suid")?$(this).click((function(){$("#delete_comment a").first().attr("href",`/${$(this).data("uid")}/${$(this).data("suid")}/delete_subcomment`)})):$(this).click((function(){$("#delete_comment a").first().attr("href",`/${$(this).data("uid")}/delete_comment`)})))}));